import{r as R,R as wt}from"./index.453e6029.js";import{c as Zt,a as te}from"./index.46f1f68c.js";import{j as at}from"./jsx-runtime.4844db2a.js";const ee=te("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:t,variant:e,...n}){return at.jsx("div",{className:Zt(ee({variant:e}),t),...n})}var Wt={exports:{}},jt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y=R;function re(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var se=typeof Object.is=="function"?Object.is:re,oe=Y.useState,ie=Y.useEffect,ae=Y.useLayoutEffect,ce=Y.useDebugValue;function ue(t,e){var n=e(),s=oe({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return ae(function(){r.value=n,r.getSnapshot=e,lt(r)&&i({inst:r})},[t,n,e]),ie(function(){return lt(r)&&i({inst:r}),t(function(){lt(r)&&i({inst:r})})},[t]),ce(n),n}function lt(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!se(t,n)}catch{return!0}}function fe(t,e){return e()}var le=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fe:ue;jt.useSyncExternalStore=Y.useSyncExternalStore!==void 0?Y.useSyncExternalStore:le;Wt.exports=jt;var de=Wt.exports;const P=()=>{},b=P(),dt=Object,a=t=>t===b,M=t=>typeof t=="function",W=(t,e)=>({...t,...e}),Ee=t=>M(t.then),ot=new WeakMap;let he=0;const tt=t=>{const e=typeof t,n=t&&t.constructor,s=n==Date;let r,i;if(dt(t)===t&&!s&&n!=RegExp){if(r=ot.get(t),r)return r;if(r=++he+"~",ot.set(t,r),n==Array){for(r="@",i=0;i<t.length;i++)r+=tt(t[i])+",";ot.set(t,r)}if(n==dt){r="#";const c=dt.keys(t).sort();for(;!a(i=c.pop());)a(t[i])||(r+=i+":"+tt(t[i])+",");ot.set(t,r)}}else r=s?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return r},F=new WeakMap,Et={},it={},Tt="undefined",ct=typeof window!=Tt,pt=typeof document!=Tt,Re=()=>ct&&typeof window.requestAnimationFrame!=Tt,qt=(t,e)=>{const n=F.get(t);return[()=>!a(e)&&t.get(e)||Et,s=>{if(!a(e)){const r=t.get(e);e in it||(it[e]=r),n[5](e,W(r,s),r||Et)}},n[6],()=>!a(e)&&e in it?it[e]:!a(e)&&t.get(e)||Et]};let mt=!0;const ge=()=>mt,[St,vt]=ct&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[P,P],pe=()=>{const t=pt&&document.visibilityState;return a(t)||t!=="hidden"},me=t=>(pt&&document.addEventListener("visibilitychange",t),St("focus",t),()=>{pt&&document.removeEventListener("visibilitychange",t),vt("focus",t)}),Se=t=>{const e=()=>{mt=!0,t()},n=()=>{mt=!1};return St("online",e),St("offline",n),()=>{vt("online",e),vt("offline",n)}},ve={isOnline:ge,isVisible:pe},_e={initFocus:me,initReconnect:Se},Ut=!wt.useId,et=!ct||"Deno"in window,we=t=>Re()?window.requestAnimationFrame(t):setTimeout(t,1),ht=et?R.useEffect:R.useLayoutEffect,Rt=typeof navigator<"u"&&navigator.connection,Ft=!et&&Rt&&(["slow-2g","2g"].includes(Rt.effectiveType)||Rt.saveData),bt=t=>{if(M(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?tt(t):"",[t,e]};let Te=0;const _t=()=>++Te,Ht=0,kt=1,$t=2,be=3;var Z={__proto__:null,ERROR_REVALIDATE_EVENT:be,FOCUS_EVENT:Ht,MUTATE_EVENT:$t,RECONNECT_EVENT:kt};async function Bt(...t){const[e,n,s,r]=t,i=W({populateCache:!0,throwOnError:!0},typeof r=="boolean"?{revalidate:r}:r||{});let c=i.populateCache;const E=i.rollbackOnError;let d=i.optimisticData;const A=i.revalidate!==!1,p=D=>typeof E=="function"?E(D):E!==!1,m=i.throwOnError;if(M(n)){const D=n,v=[],O=e.keys();for(const V of O)!/^\$(inf|sub)\$/.test(V)&&D(e.get(V)._k)&&v.push(V);return Promise.all(v.map(I))}return I(n);async function I(D){const[v]=bt(D);if(!v)return;const[O,V]=qt(e,v),[o,k,X,j]=F.get(e),q=()=>{const w=o[v];return A&&(delete X[v],delete j[v],w&&w[0])?w[0]($t).then(()=>O().data):O().data};if(t.length<3)return q();let _=s,C;const h=_t();k[v]=[h,0];const $=!a(d),N=O(),B=N.data,nt=N._c,H=a(nt)?B:nt;if($&&(d=M(d)?d(H,B):d,V({data:d,_c:H})),M(_))try{_=_(H)}catch(w){C=w}if(_&&Ee(_))if(_=await _.catch(w=>{C=w}),h!==k[v][0]){if(C)throw C;return _}else C&&$&&p(C)&&(c=!0,V({data:H,_c:b}));if(c&&!C)if(M(c)){const w=c(_,H);V({data:w,error:b,_c:b})}else V({data:_,error:b,_c:b});if(k[v][1]=_t(),Promise.resolve(q()).then(()=>{V({_c:b})}),C){if(m)throw C;return}return _}}const Mt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},De=(t,e)=>{if(!F.has(t)){const n=W(_e,e),s={},r=Bt.bind(b,t);let i=P;const c={},E=(p,m)=>{const I=c[p]||[];return c[p]=I,I.push(m),()=>I.splice(I.indexOf(m),1)},d=(p,m,I)=>{t.set(p,m);const D=c[p];if(D)for(const v of D)v(m,I)},A=()=>{if(!F.has(t)&&(F.set(t,[s,{},{},{},r,d,E]),!et)){const p=n.initFocus(setTimeout.bind(b,Mt.bind(b,s,Ht))),m=n.initReconnect(setTimeout.bind(b,Mt.bind(b,s,kt)));i=()=>{p&&p(),m&&m(),F.delete(t)}}};return A(),[t,r,A,i]}return[t,F.get(t)[4]]},Oe=(t,e,n,s,r)=>{const i=n.errorRetryCount,c=r.retryCount,E=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!a(i)&&c>i||setTimeout(s,E,r)},Ce=(t,e)=>tt(t)==tt(e),[zt,ye]=De(new Map),Ae=W({onLoadingSlow:P,onSuccess:P,onError:P,onErrorRetry:Oe,onDiscarded:P,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ft?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ft?5e3:3e3,compare:Ce,isPaused:()=>!1,cache:zt,mutate:ye,fallback:{}},ve),Ie=(t,e)=>{const n=W(t,e);if(e){const{use:s,fallback:r}=t,{use:i,fallback:c}=e;s&&i&&(n.use=s.concat(i)),r&&c&&(n.fallback=W(r,c))}return n},Ve=R.createContext({}),Ne="$inf$",Jt=ct&&window.__SWR_DEVTOOLS_USE__,Le=Jt?window.__SWR_DEVTOOLS_USE__:[],xe=()=>{Jt&&(window.__SWR_DEVTOOLS_REACT__=wt)},Ue=t=>M(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Fe=()=>W(Ae,R.useContext(Ve)),Me=t=>(e,n,s)=>t(e,n&&((...i)=>{const[c]=bt(e),[,,,E]=F.get(zt);if(c.startsWith(Ne))return n(...i);const d=E[c];return a(d)?n(...i):(delete E[c],d)}),s),Pe=Le.concat(Me),We=t=>function(...n){const s=Fe(),[r,i,c]=Ue(n),E=Ie(s,c);let d=t;const{use:A}=E,p=(A||[]).concat(Pe);for(let m=p.length;m--;)d=p[m](d);return d(r,i||E.fetcher||null,E)},je=(t,e,n)=>{const s=e[t]||(e[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r>=0&&(s[r]=s[s.length-1],s.pop())}};xe();const Pt=wt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),gt={dedupe:!0},qe=(t,e,n)=>{const{cache:s,compare:r,suspense:i,fallbackData:c,revalidateOnMount:E,revalidateIfStale:d,refreshInterval:A,refreshWhenHidden:p,refreshWhenOffline:m,keepPreviousData:I}=n,[D,v,O,V]=F.get(s),[o,k]=bt(t),X=R.useRef(!1),j=R.useRef(!1),q=R.useRef(o),_=R.useRef(e),C=R.useRef(n),h=()=>C.current,$=()=>h().isVisible()&&h().isOnline(),[N,B,nt,H]=qt(s,o),w=R.useRef({}).current,Kt=a(c)?n.fallback[o]:c,Dt=(u,f)=>{for(const S in w){const l=S;if(l==="data"){if(!r(u[l],f[l])&&(!a(u[l])||!r(st,f[l])))return!1}else if(f[l]!==u[l])return!1}return!0},Ot=R.useMemo(()=>{const u=(()=>!o||!e?!1:a(E)?h().isPaused()||i?!1:a(d)?!0:d:E)(),f=T=>{const x=W(T);return delete x._k,u?{isValidating:!0,isLoading:!0,...x}:x},S=N(),l=H(),L=f(S),G=S===l?L:f(l);let g=L;return[()=>{const T=f(N());return Dt(T,g)?(g.data=T.data,g.isLoading=T.isLoading,g.isValidating=T.isValidating,g.error=T.error,g):(g=T,T)},()=>G]},[s,o]),z=de.useSyncExternalStore(R.useCallback(u=>nt(o,(f,S)=>{Dt(S,f)||u()}),[s,o]),Ot[0],Ot[1]),Ct=!X.current,Gt=D[o]&&D[o].length>0,J=z.data,K=a(J)?Kt:J,rt=z.error,yt=R.useRef(K),st=I?a(J)?yt.current:J:K,At=(()=>Gt&&!a(rt)?!1:Ct&&!a(E)?E:h().isPaused()?!1:i?a(K)?!1:d:a(K)||d)(),It=!!(o&&e&&Ct&&At),Yt=a(z.isValidating)?It:z.isValidating,Xt=a(z.isLoading)?It:z.isLoading,Q=R.useCallback(async u=>{const f=_.current;if(!o||!f||j.current||h().isPaused())return!1;let S,l,L=!0;const G=u||{},g=!O[o]||!G.dedupe,T=()=>Ut?!j.current&&o===q.current&&X.current:o===q.current,x={isValidating:!1,isLoading:!1},Nt=()=>{B(x)},Lt=()=>{const y=O[o];y&&y[1]===l&&delete O[o]},xt={isValidating:!0};a(N().data)&&(xt.isLoading=!0);try{if(g&&(B(xt),n.loadingTimeout&&a(N().data)&&setTimeout(()=>{L&&T()&&h().onLoadingSlow(o,n)},n.loadingTimeout),O[o]=[f(k),_t()]),[S,l]=O[o],S=await S,g&&setTimeout(Lt,n.dedupingInterval),!O[o]||O[o][1]!==l)return g&&T()&&h().onDiscarded(o),!1;x.error=b;const y=v[o];if(!a(y)&&(l<=y[0]||l<=y[1]||y[1]===0))return Nt(),g&&T()&&h().onDiscarded(o),!1;const U=N().data;x.data=r(U,S)?U:S,g&&T()&&h().onSuccess(S,o,n)}catch(y){Lt();const U=h(),{shouldRetryOnError:ut}=U;U.isPaused()||(x.error=y,g&&T()&&(U.onError(y,o,U),(ut===!0||M(ut)&&ut(y))&&$()&&U.onErrorRetry(y,o,U,Qt=>{const ft=D[o];ft&&ft[0]&&ft[0](Z.ERROR_REVALIDATE_EVENT,Qt)},{retryCount:(G.retryCount||0)+1,dedupe:!0})))}return L=!1,Nt(),!0},[o,s]),Vt=R.useCallback((...u)=>Bt(s,q.current,...u),[]);if(ht(()=>{_.current=e,C.current=n,a(J)||(yt.current=J)}),ht(()=>{if(!o)return;const u=Q.bind(b,gt);let f=0;const l=je(o,D,(L,G={})=>{if(L==Z.FOCUS_EVENT){const g=Date.now();h().revalidateOnFocus&&g>f&&$()&&(f=g+h().focusThrottleInterval,u())}else if(L==Z.RECONNECT_EVENT)h().revalidateOnReconnect&&$()&&u();else{if(L==Z.MUTATE_EVENT)return Q();if(L==Z.ERROR_REVALIDATE_EVENT)return Q(G)}});return j.current=!1,q.current=o,X.current=!0,B({_k:k}),At&&(a(K)||et?u():we(u)),()=>{j.current=!0,l()}},[o]),ht(()=>{let u;function f(){const l=M(A)?A(N().data):A;l&&u!==-1&&(u=setTimeout(S,l))}function S(){!N().error&&(p||h().isVisible())&&(m||h().isOnline())?Q(gt).then(f):f()}return f(),()=>{u&&(clearTimeout(u),u=-1)}},[A,p,m,o]),R.useDebugValue(st),i&&a(K)&&o){if(!Ut&&et)throw new Error("Fallback data is required when using suspense in SSR.");_.current=e,C.current=n,j.current=!1;const u=V[o];if(!a(u)){const f=Vt(u);Pt(f)}if(a(rt)){const f=Q(gt);a(st)||(f.status="fulfilled",f.value=!0),Pt(f)}else throw rt}return{mutate:Vt,get data(){return w.data=!0,st},get error(){return w.error=!0,rt},get isValidating(){return w.isValidating=!0,Yt},get isLoading(){return w.isLoading=!0,Xt}}},He=We(qe),ke="https://roseto.instatus.com/summary.json",$e=t=>fetch(t).then(e=>e.json()).then(e=>e.page.status);function Ke(){const{data:t,error:e,isLoading:n}=He(ke,$e),s=R.useMemo(()=>n?"Loading...":e?"Error":t==="UP"?"Operational":t==="HASISSUES"?"Issues":t==="UNDERMAINTENANCE"?"Under Maintenance":"Unknown",[t]);return at.jsx("a",{href:"https://roseto.instatus.com",target:"_blank",rel:"noreferrer noopener",children:at.jsxs(ne,{variant:t==="UP"?"outline":t==="HASISSUES"?"destructive":"secondary",className:t==="UP"?"border-background":"",children:[at.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${t==="UP"?"bg-green-500":t==="HASISSUES"?"bg-red-500":"bg-yellow-500"}`}),"Status: ",s]})})}export{Ke as default};
