---
import { getCollection } from "astro:content";
import { Card, CardContent, CardHeader, CardDescription, CardTitle } from "./ui/card";

const partners = await getCollection("contributors", ({data}) => data?.partner);
---

<Card>
	<CardHeader>
		<CardTitle>
			Our Partners
		</CardTitle>
		<CardDescription>
			The people that support us along the way
		</CardDescription>
	</CardHeader>

	<CardContent>
		<div class="flex flex-wrap flex-row gap-4 items-center justify-center">
			{partners.map((partner) => (
				<a
					class="flex flex-col items-center w-32"
					href={partner.data.link}
					target="_blank"
					rel="noopener noreferrer"
				>
					<img
						class="rounded w-16 h-16 object-cover border-secondary border-2"
						src={partner.data.avatar}
						alt={partner.data.name}
						loading="lazy"
					/>
					<h3 class="text-center text-sm text-muted-foreground">{partner.data.name}</h3>
				</a>
			))}
		</div>
	</CardContent>
</Card>
