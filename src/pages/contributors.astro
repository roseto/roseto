---
import { Container } from "@/components/ui/container";
import { Hint } from "@/components/ui/hint";
import { Stack } from "@/components/ui/stack";
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";


const coreTeam = await getCollection("contributors", ({ data }) => data.core);
const contributors = await getCollection("contributors", ({ data }) => !data.core);
---

<Layout title="Contributors">
	<Container>
		<Stack>
			<h1
				class="text-5xl font-bold"
			>
				Who contributed to Roseto?
			</h1>
			<p>
				At Roseto, we consider every contribution is a gift. We are grateful to all the people who 
				have contributed to the project, whether they have contributed to the code, the documentation, 
				the design, the community, or anything else.
			</p>
			
			<h2
				class="mt-8 text-3xl font-bold"
			>
				Roseto Group
			</h2>

			<Hint>
				"Roseto Group" and "Roseto Contributors"
			</Hint>

			<div
				class="flex flex-row flex-wrap gap-2"
			>
				{coreTeam.map((contributor) => (
					<a
						class="flex flex-col items-center w-32"
						href={contributor.data.link}
						target="_blank"
						rel="noopener noreferrer"
					>
						<img 
							src={contributor.data.avatar} 
							alt={contributor.data.name} 
							class="w-16 h-16 rounded-full object-cover mb-2"
						/>
						<h3 class="text-center text-sm text-muted-foreground">{contributor.data.name}</h3>
					</a>
				))}
			</div>

			<hr class="my-8" />

			<h2
				class="text-3xl font-bold"
			>
				Contributors
			</h2>

			<Hint>
				"Roseto Contributors"
			</Hint>

			<div
				class="flex flex-row flex-wrap gap-2"
			>
				{contributors.map((contributor) => (
					<a
						class="flex flex-col items-center w-32"
						href={contributor.data.link}
						target="_blank"
						rel="noopener noreferrer"
					>
						<img 
							src={contributor.data.avatar} 
							alt={contributor.data.name} 
							class:list={[
								"w-16 h-16 object-cover mb-2", 
								contributor.data.supporter || contributor.data.partner ? "rounded" : "rounded-full",
								contributor.data.supporter ? "border-2 border-primary" : "",
								contributor.data.partner ? "border-2 border-secondary" : "",
							]}
						/>
						<h3 class="text-center text-sm text-muted-foreground">
							{contributor.data.name}
							{contributor.data.supporter ? " (Supporter)" : ""}
							{contributor.data.partner ? " (Partner)" : ""}	
						</h3>
					</a>
				))}
			</div>
		</Stack>
	</Container>
</Layout>
